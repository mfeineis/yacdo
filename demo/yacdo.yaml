version: "0.1"

system:
  # Not deployable in a production environment
  # but enables some developer conveniences like
  # skipping authentication/authorization
  private: true

  # All traffic will be channeled through this gateway
  api:
    handler: "./auth/gateway.ts"
    runtime: "typescript"

  # Authorization is done here
  authorizer:
    handler: "./auth/authorizer.ts"
    runtime: "typescript"

  # The message broker 
  bus:
    handler: "./bus/main.ts"
    runtime: "typescript"

  # All message processors to be mounted
  processors:
    - "./users/write/"
    - "./users/read/"